import{_ as t}from"./chunks/ArticleMetadata.B6LTgUMn.js";import{_ as p,m as e,a as r,u as d,B as g,e as n,x as A,ai as D,o as h,p as y,q as F}from"./chunks/framework.coFu0xgG.js";import"./chunks/theme.CAIqAJ98.js";const x=JSON.parse('{"title":"Borrowingå€Ÿç”¨ && Lifetimeç”Ÿå‘½å‘¨æœŸ","description":"","frontmatter":{"title":"Borrowingå€Ÿç”¨ && Lifetimeç”Ÿå‘½å‘¨æœŸ","author":"çš®ç‰¹á´¾áµ—","date":"2024/05/08 21:33","categories":["Rustè¯­æ³•å…¥é—¨"],"tags":["Rust","RuståŸºç¡€","å€Ÿç”¨","ç”Ÿå‘½å‘¨æœŸ"]},"headers":[],"relativePath":"categories/rust/01-Rustè¯­æ³•å…¥é—¨/06-Borrowingå€Ÿç”¨ä¸Lifetimeç”Ÿå‘½å‘¨æœŸ.md","filePath":"categories/rust/01-Rustè¯­æ³•å…¥é—¨/06-Borrowingå€Ÿç”¨ä¸Lifetimeç”Ÿå‘½å‘¨æœŸ.md","lastUpdated":1718385253000}'),C={name:"categories/rust/01-Rustè¯­æ³•å…¥é—¨/06-Borrowingå€Ÿç”¨ä¸Lifetimeç”Ÿå‘½å‘¨æœŸ.md"},o=n("h1",{id:"borrowingå€Ÿç”¨-lifetimeç”Ÿå‘½å‘¨æœŸ",tabindex:"-1"},[A("Borrowingå€Ÿç”¨ && Lifetimeç”Ÿå‘½å‘¨æœŸ "),n("a",{class:"header-anchor",href:"#borrowingå€Ÿç”¨-lifetimeç”Ÿå‘½å‘¨æœŸ","aria-label":'Permalink to "Borrowingå€Ÿç”¨ && Lifetimeç”Ÿå‘½å‘¨æœŸ"'},"â€‹")],-1),B=D(`<h2 id="borrowing-borrow-checker-lifetime" tabindex="-1">Borrowing &amp;&amp; Borrow Checker &amp;&amp; Lifetime <a class="header-anchor" href="#borrowing-borrow-checker-lifetime" aria-label="Permalink to &quot;Borrowing &amp;&amp; Borrow Checker &amp;&amp; Lifetime&quot;">â€‹</a></h2><h3 id="borrowing" tabindex="-1">Borrowing <a class="header-anchor" href="#borrowing" aria-label="Permalink to &quot;Borrowing&quot;">â€‹</a></h3><p>å¼•ç”¨å’Œå€Ÿç”¨æœ‰ä¸¤ç§æè¿°ã€‚</p><p>å¼•ç”¨ï¼ˆReferenceï¼‰ï¼š</p><ol><li>å¼•ç”¨æ˜¯ä¸€ç§å˜é‡çš„åˆ«åï¼Œé€šè¿‡<code>&amp;</code>ç¬¦å·æ¥åˆ›å»ºã€‚ï¼ˆéæ‰€æœ‰æƒï¼‰</li><li>å¼•ç”¨å¯ä»¥æ˜¯ä¸å¯å˜çš„ï¼ˆ<code>&amp;T</code>ï¼‰æˆ–å¯å˜çš„ï¼ˆ<code>&amp;mut T</code>ï¼‰</li><li>å¼•ç”¨å…è®¸åœ¨ä¸ä¼ é€’æ‰€æœ‰æƒçš„æƒ…å†µä¸‹è®¿é—®æ•°æ®ï¼Œå®ƒä»¬æ˜¯å®‰å…¨ä¸”ä½å¼€é”€çš„ã€‚</li></ol><p>å€Ÿç”¨ï¼ˆBorrowingï¼‰ï¼š</p><ol><li>å€Ÿç”¨æ˜¯é€šè¿‡å¼•ç”¨ï¼ˆReferenceï¼‰æ¥å€Ÿç”¨ï¼ˆBorrowï¼‰æ•°æ®ï¼Œä»è€Œåœ¨ä¸€æ®µæ—¶é—´å†…è®¿é—®æ•°æ®è€Œä¸æ‹¥æœ‰å®ƒã€‚</li><li>å€Ÿç”¨åˆ†ä¸ºå¯å˜å€Ÿç”¨å’Œä¸å¯å˜å€Ÿç”¨ã€‚å¯å˜å€Ÿç”¨ï¼ˆ<code>&amp;mut</code>ï¼‰å…è®¸ä¿®æ”¹æ•°æ®ï¼Œä½†åœ¨ç”Ÿå‘½å‘¨æœŸå†…åªèƒ½æœ‰ä¸€ä¸ªå¯å˜å€Ÿç”¨ã€‚ä¸å¯å˜å€Ÿç”¨ï¼ˆ<code>&amp;</code>ï¼‰å…è®¸å¤šä¸ªåŒæ—¶å­˜åœ¨ï¼Œä½†ä¸å…è®¸ä¿®æ”¹æ•°æ®ã€‚</li></ol><div class="warning custom-block"><p class="custom-block-title">ğŸ“¢æ³¨æ„</p><p>å¼•ç”¨æ›´çœ‹é‡<strong>å¯¹è±¡</strong>ï¼Œå€Ÿç”¨æ›´çœ‹é‡<strong>è¡Œä¸º</strong>ã€‚</p></div><h3 id="borrow-checker" tabindex="-1">Borrow Checker <a class="header-anchor" href="#borrow-checker" aria-label="Permalink to &quot;Borrow Checker&quot;">â€‹</a></h3><p>Borrow Checkerçš„è§„åˆ™æœ‰ä»¥ä¸‹ï¼š</p><ul><li>ä¸å¯å˜å¼•ç”¨è§„åˆ™ï¼šåœ¨ä»»ä½•ç»™å®šçš„æ—¶é—´ï¼Œè¦ä¹ˆæœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨ï¼Œè¦ä¹ˆæœ‰å¤šä¸ªä¸å¯å˜å¼•ç”¨ï¼Œä½†ä¸èƒ½åŒæ—¶å­˜åœ¨å¯å˜å¼•ç”¨å’Œä¸å¯å˜å¼•ç”¨ã€‚è¿™ç¡®ä¿äº†åœ¨åŒä¸€ä¸ªæ—¶é—´åªæœ‰ä¸€ä¸ªåœ°æ–¹å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œæˆ–è€…æœ‰å¤šä¸ªåœ°æ–¹åŒæ—¶è¯»å–æ•°æ®ã€‚</li><li>å¯å˜å¼•ç”¨è§„åˆ™ï¼šåœ¨ä»»ä½•ç»™å®šçš„æ—¶é—´ï¼Œåªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨æ¥è®¿é—®æ•°æ®ã€‚è¿™é˜²æ­¢äº†å¹¶å‘ä¿®æ”¹ç›¸åŒæ•°æ®çš„é—®é¢˜ï¼Œä»è€Œé˜²æ­¢æ•°æ®ç«äº‰ã€‚</li><li>ç”Ÿå‘½å‘¨æœŸè§„åˆ™ï¼šå¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸå¿…é¡»åœ¨è¢«å¼•ç”¨çš„æ•°æ®æœ‰æ•ˆçš„æ—¶é—´èŒƒå›´å†…ã€‚è¿™é˜²æ­¢äº†æ‚¬å‚å¼•ç”¨ï¼Œå³å¼•ç”¨çš„æ•°æ®å·²ç»è¢«é”€æ¯ï¼Œä½†å¼•ç”¨ä»ç„¶å­˜åœ¨ã€‚</li><li>å¯å˜å¼•ç”¨ä¸ä¸å¯å˜å¼•ç”¨ä¸äº’æ–¥ï¼šå¯ä»¥åŒæ—¶å­˜åœ¨å¤šä¸ªä¸å¯å˜å¼•ç”¨ï¼Œå› ä¸ºä¸å¯å˜å¼•ç”¨ä¸ä¼šä¿®æ”¹æ•°æ®ï¼Œä¸ä¼šå½±å“åˆ°å…¶ä»–å¼•ç”¨ã€‚ä½†ä¸å¯å˜å¼•ç”¨ä¸å¯å˜å¼•ç”¨ä¹‹é—´æ˜¯äº’æ–¥çš„ã€‚</li></ul><h3 id="æ‰‹åŠ¨æŒ‡å®šlifetime" tabindex="-1">æ‰‹åŠ¨æŒ‡å®šLifetime <a class="header-anchor" href="#æ‰‹åŠ¨æŒ‡å®šlifetime" aria-label="Permalink to &quot;æ‰‹åŠ¨æŒ‡å®šLifetime&quot;">â€‹</a></h3><p>ç”Ÿå‘½å‘¨æœŸå‚æ•°åœ¨å‡½æ•°/ç»“æ„ä½“ç­¾åä¸­æŒ‡å®šï¼š</p><p>ä¸€èˆ¬æƒ…å†µä¸‹<code>Borrow Checker</code>ä¼šè‡ªè¡Œæ¨æ–­ï¼Œåœ¨å‡½æ•°/ç»“æ„ä½“ç­¾åä¸­ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‚æ•°å…è®¸å‡½æ•°å£°æ˜å¼•ç”¨çš„æœ‰æ•ˆèŒƒå›´ã€‚</p><p>ä¾‹å­ï¼š</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    let</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> mut</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    // ä¸å¯å˜å¼•ç”¨ï¼Œå¯ä»¥æœ‰å¤šä¸ªä¸å¯å˜å¼•ç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> r1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">s;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> r2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">s;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;{} {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, r1, r2); </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// Hello Hello</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    // å¯å˜å¼•ç”¨åªèƒ½æœ‰ä¸€ä¸ª</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> r3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;mut</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> s;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;{}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, r3); </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// Hello</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">        // result = &quot;ff&quot;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> r4 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">s; </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// ç»™r4å®šä¹‰ï¼Œr4çš„ç”Ÿå‘½å‘¨æœŸç»“æŸ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> ff</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(r4); </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// ç›¸å½“äºç»™resultåˆå§‹åŒ–ï¼Œresultçš„ç”Ÿå‘½å‘¨æœŸè¿˜æ²¡ç»“æŸ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    // println!(&quot;r4 {}&quot;, r4); // r4çš„æ‰€æœ‰æƒå·²ç»è½¬ç§»ç»™result</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;{}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, result); </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// Hello</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> ff</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;(s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div><h2 id="lifetimeä¸å‡½æ•°" tabindex="-1">Lifetimeä¸å‡½æ•° <a class="header-anchor" href="#lifetimeä¸å‡½æ•°" aria-label="Permalink to &quot;Lifetimeä¸å‡½æ•°&quot;">â€‹</a></h2><h3 id="ä»»ä½•å¼•ç”¨éƒ½æ˜¯æœ‰ç”Ÿå‘½å‘¨æœŸ" tabindex="-1">ä»»ä½•å¼•ç”¨éƒ½æ˜¯æœ‰ç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#ä»»ä½•å¼•ç”¨éƒ½æ˜¯æœ‰ç”Ÿå‘½å‘¨æœŸ" aria-label="Permalink to &quot;ä»»ä½•å¼•ç”¨éƒ½æ˜¯æœ‰ç”Ÿå‘½å‘¨æœŸ&quot;">â€‹</a></h3><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç”Ÿå‘½å‘¨æœŸæ˜¯éšå¼ä¸”è¢«æ¨æ–­çš„ã€‚</p><p>ç”Ÿå‘½å‘¨æœŸçš„ä¸»è¦ç›®çš„æ˜¯é˜²æ­¢æ‚¬å‚å¼•ç”¨ã€‚</p><p>å…³äºâ€œæ‚¬å‚å¼•ç”¨â€çš„æ¦‚å¿µæ˜¯æŒ‡ï¼Œå¼•ç”¨æŒ‡å‘çš„æ•°æ®åœ¨ä»£ç ç»“æŸåè¢«é‡Šæ”¾ï¼Œä½†å¼•ç”¨ä»ç„¶å­˜åœ¨ã€‚</p><ul><li>ç”Ÿå‘½å‘¨æœŸçš„å¼•å…¥æœ‰åŠ©äºç¡®ä¿å¼•ç”¨çš„æœ‰æ•ˆæ€§ï¼Œé˜²æ­¢ç¨‹åºåœ¨è¿è¡Œæ—¶å‡ºç°æ‚¬å‚å¼•ç”¨çš„æƒ…å†µ</li><li>é€šè¿‡ç”Ÿå‘½å‘¨æœŸçš„æ¨æ–­ï¼ŒRustèƒ½å¤Ÿåœ¨ç¼–è¯‘æ—¶æ£€æŸ¥ä»£ç ï¼Œç¡®ä¿å¼•ç”¨çš„æœ‰æ•ˆæ€§ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶å‡ºç°æ‚¬å‚å¼•ç”¨çš„é”™è¯¯</li></ul><h3 id="ä¸‰ä¸ªè§„åˆ™æ¨æ–­ç”Ÿå‘½å‘¨æœŸ" tabindex="-1">ä¸‰ä¸ªè§„åˆ™æ¨æ–­ç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#ä¸‰ä¸ªè§„åˆ™æ¨æ–­ç”Ÿå‘½å‘¨æœŸ" aria-label="Permalink to &quot;ä¸‰ä¸ªè§„åˆ™æ¨æ–­ç”Ÿå‘½å‘¨æœŸ&quot;">â€‹</a></h3><p>ç¼–è¯‘å™¨åœ¨æ²¡æœ‰æ˜¾å¼æ³¨è§£çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ä¸‰ä¸ªè§„åˆ™æ¥æ¨æ–­è¿™äº›ç”Ÿå‘½å‘¨æœŸï¼š</p><ol><li>ç¬¬ä¸€ä¸ªè§„åˆ™æ˜¯æ¯ä¸ªä½œä¸ºå¼•ç”¨çš„å‚æ•°éƒ½ä¼šå¾—åˆ°å®ƒè‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸå‚æ•°</li><li>ç¬¬äºŒä¸ªè§„åˆ™æ˜¯ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªè¾“å…¥ç”Ÿå‘½å‘¨æœŸå‚æ•°ï¼Œé‚£ä¹ˆè¯¥ç”Ÿå‘½å‘¨æœŸå°†è¢«åˆ†é…ç»™æ‰€æœ‰è¾“å‡ºç”Ÿå‘½å‘¨æœŸå‚æ•°ï¼ˆè¯¥ç”Ÿå‘½å‘¨æœŸå°†åˆ†é…ç»™è¿”å›å€¼ï¼‰</li><li>ç¬¬ä¸‰ä¸ªè§„åˆ™æ˜¯ï¼Œå¦‚æœæœ‰å¤šä¸ªè¾“å…¥ç”Ÿå‘½å‘¨æœŸå‚æ•°ï¼Œä½†å…¶ä¸­ä¸€ä¸ªæ˜¯å¯¹<code>self</code>æˆ–ä¸å¯å˜<code>self</code>çš„å¼•ç”¨æ—¶ã€‚å› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹å®ƒæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥<code>self</code>çš„ç”Ÿå‘½å‘¨æœŸè¢«åˆ†é…ç»™æ‰€æœ‰è¾“å‡ºç”Ÿå‘½å‚æ•°</li></ol><p>ä¾‹å­ï¼š</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// å­—é¢é‡çš„ç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯ä¸€æ ·çš„æ—¶å€™ï¼Œæ€§èƒ½ç›¸å¯¹æ…¢ä¸€äº›</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> longest</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;(s1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, s2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> s1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">() &gt; s2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        s1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        s2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// è¿”å›çš„å­—é¢é‡çš„ç”Ÿå‘½å‘¨æœŸoutæ˜¯aå’Œbçš„äº¤é›†</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> longest_str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">out</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;(s1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, s2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">b</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">out</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">where</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">out</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">out</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> s1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">() &gt; s2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        s1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        s2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> no_need</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, s1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;longest s: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">longest</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;aabb&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;ab&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// longest s: aabb</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> r2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;cba&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> longest_str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;aabbcc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, r2);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">        println!</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;longest s of out: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, result); </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// longest s of out: aabbcc</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;no need {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">no_need</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;hh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// no need hh</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div><h2 id="lifetimeä¸struct" tabindex="-1">Lifetimeä¸Struct <a class="header-anchor" href="#lifetimeä¸struct" aria-label="Permalink to &quot;Lifetimeä¸Struct&quot;">â€‹</a></h2><h3 id="ç»“æ„ä½“ä¸­çš„å¼•ç”¨" tabindex="-1">ç»“æ„ä½“ä¸­çš„å¼•ç”¨ <a class="header-anchor" href="#ç»“æ„ä½“ä¸­çš„å¼•ç”¨" aria-label="Permalink to &quot;ç»“æ„ä½“ä¸­çš„å¼•ç”¨&quot;">â€‹</a></h3><ul><li>åœ¨ç»“æ„ä½“ä¸­çš„å¼•ç”¨éœ€è¦æ ‡æ³¨ç”Ÿå‘½å‘¨æœŸ</li><li>ç»“æ„ä½“çš„æ–¹æ³•ï¼ˆ<code>self</code>ç­‰ï¼‰ä¸éœ€è¦æ ‡æ³¨ç”Ÿå‘½å‘¨æœŸ</li></ul><p>ä¾‹å­ï¼š</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> MyString</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// æœ€å¥½å†™String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">impl</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">MyString</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> get_length</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> usize</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">        self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> modify_data</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&amp;mut</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">        self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">text </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;world&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> StringHolder</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">impl</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> StringHolder</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> get_length</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> usize</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">        self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> get_ref</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&lt;&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&gt;( </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">        &amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> str1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    let</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> mut</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> MyString</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> str1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">as_str</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    };</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;x before mod: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">text); </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// x before mod: value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">modify_data</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;x after mod: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">text); </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// x after mod: world</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> holder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> StringHolder</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    };</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;{}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, holder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">get_ref</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// Hello</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div>`,32);function c(s,E,u,m,f,q){const k=t,l=e("ClientOnly");return h(),r("div",null,[o,d(l,null,{default:g(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(h(),y(k,{key:0,article:s.$frontmatter},null,8,["article"])):F("",!0)]}),_:1}),B])}const v=p(C,[["render",c]]);export{x as __pageData,v as default};
